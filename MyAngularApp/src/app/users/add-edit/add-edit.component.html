<h2 *ngIf="isAddMode" >Add User</h2>
<h2 *ngIf="!isAddMode">Edit User</h2>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div>
        <div>
            <label>Title</label>
            <br>
            <select formControlName="title" [ngClass]="{ 'is-invalid': submitted && f['title'].errors }">
                <option value=""></option>
                <option value="Mr">Mr</option>
                <option value="Mrs">Mrs</option>
                <option value="Miss">Miss</option>
                <option value="Ms">Ms</option>
            </select>
            <div *ngIf="submitted && f['title'].errors" >
                <div *ngIf="f['title'].errors['required']" class="Error">Title is required</div>
            </div>
        </div>
        <div>
            <label>First Name</label>
            <br>
            <input type="text" formControlName="firstName" [ngClass]="{ 'is-invalid': submitted && f['firstName'].errors }" />
            <div *ngIf="submitted && f['firstName'].errors" >
                <div *ngIf="f['firstName'].errors['required']" class="Error">First Name is required</div>
            </div>
        </div>
        <div>
            <label>Last Name</label>
            <br>
            <input type="text" formControlName="lastName" [ngClass]="{ 'is-invalid': submitted && f['lastName'].errors }" />
            <div *ngIf="submitted && f['lastName'].errors" >
                <div *ngIf="f['lastName'].errors['required']" class="Error">Last Name is required</div>
            </div>
        </div>
    </div>
    <div>
        <div class="form-group col-7">
            <label>Email</label>
            <br>
            <input type="text" formControlName="email" [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
            <div *ngIf="submitted && f['email'].errors" >
                <div *ngIf="f['email'].errors['required']" class="Error">Email is required</div>
                <div *ngIf="f['email'].errors['email']" class="Error">Email must be a valid email address</div>
            </div>
        </div>
        <div>
            <label>Role</label>
            <br>
            <select formControlName="role" [ngClass]="{ 'is-invalid': submitted && f['role'].errors }">
                <option value=""></option>
                <option value="Admin">Admin</option>
                <option value="User">User</option>
            </select>
            <div *ngIf="submitted && f['role'].errors" >
                <div *ngIf="f['role'].errors['required']" class="Error">Role is required</div>
            </div>
        </div>
    </div>
    <div *ngIf="!isAddMode">
        <h4>Change Password</h4>
        <span style="color: darkred">Leave blank to keep the same password</span>
    </div>
    <div>
        <div class="form-group col">
            <label>Password</label>
            <br>
            <input type="password" formControlName="password" [ngClass]="{ 'is-invalid': submitted && f['password'].errors }" />
            <div *ngIf="submitted && f['password'].errors" >
                <div *ngIf="f['password'].errors['required']" class="Error">Password is required</div>
                <div *ngIf="f['password'].errors['minlength']" class="Error">Password must be at least 6 characters</div>
            </div>
        </div>
        <div>
            <label>Confirm Password</label>
            <br>
            <input type="password" formControlName="confirmPassword" [ngClass]="{ 'is-invalid': submitted && f['confirmPassword'].errors }" />
            <div *ngIf="submitted && f['confirmPassword'].errors" >
                <div *ngIf="f['confirmPassword'].errors['required']" class="Error">Confirm Password is required</div>
                <div *ngIf="f['confirmPassword'].errors['mustMatch']" class="Error">Passwords must match</div>
            </div>
        </div>
    </div>
    <div>
        <button [disabled]="loading" style="margin-right: 10px;" class="save-button-link">
            <span *ngIf="loading" ></span>
            Save
        </button> |
          <!-- From: http://localhost:4200/crud/add
         To: http://localhost:4200/crud/get -->
        <a style="margin-left: 10px;" routerLink="../get" class="cancel-button-link">Cancel</a>
    </div>
</form>